1 REM Berechnung von Faltung und Correlation
2 REM Autor: M.Becker, Juni 1995
5  DIM X(20):DIM H(20):DIM Y(40):DIM C(40): DIM K(20)
10 CLS:PRINT "X,H,K-EINGABE  (F)ALTUNG        (C)ORRELATION";
20 IF INKEY$=""THEN20
30 IF INKEY$="X"THENGOSUB 100:GOTO 10
40 IF INKEY$="H"THENGOSUB 110:GOTO 10
45 IF INKEY$="K"THENGOSUB 300:GOTO 10
50 IF INKEY$="F"THENGOSUB 120:GOTO 10
60 IF INKEY$="C"THENGOSUB 200:GOTO 10
90 GOTO 20
100 I=0
102 CLS:PRINT "BITTE EINGEBEN: (Ende=999)      X(";I;")=";
103 INPUT X(I)
104 IF X(I)<>999THENI=I+1:GOTO 102
106 XE=I
108 RETURN
110 I=0
112 CLS:PRINT "BITTE EINGEBEN: (Ende=999)      H(";I;")=";
113 INPUT H(I)
114 IF H(I)<>999THENI=I+1:GOTO 112
116 HE=I
118 RETURN
120 CLS:PRINT "FALTUNGSSUMME Y(k)=";CHR$(132);" H(i)*X(k-i)";
122 PRINT "i=0 ... N-1"
125 FORK=0TOXE+HE-1
130 CLS:PRINT "Y(";K;")=";
140 Y(K)=0
150 FORI=0TOHE-1
155 IF (K-I)>=0 AND (K-I)<XE THEN Y(K)=Y(K)+H(I)*X(K-I)
170 NEXT I
175 PRINT Y(K)
180 NEXT K
190 RETURN
200 CLS:PRINT "KORRELATION C(k)=";CHR$(132);" X(i)*K(k+i)";
202 PRINT "i=0 ... N-1"
205 FORK=0TOXE+KE-1
210 CLS:PRINT "C(";K;")=";
220 C(K)=0
230 FORI=0TOKE-1
250 IF (K-I)>=0 AND (K-I)<XE THEN C(K)=C(K)+K(KE-I-1)*X(K-I)
260 NEXT I
270 PRINT C(K)
280 NEXT K
290 RETURN
300 CLS:PRINT "(N)EU X Y H";
310 IF INKEY$=""THEN310
320 IF INKEY$="N"THEN400
330 IF INKEY$="X"THEN410
340 IF INKEY$="Y"THEN420
350 IF INKEY$="H"THEN430
360 GOTO 310
400 I=0
402 CLS:PRINT "BITTE EINGEBEN: (Ende=999)      K(";I;")=";
403 INPUT K(I)
404 IF K(I)<>999THENI=I+1:GOTO 402
406 KE=I
408 RETURN
410 I=0
412 K(I)=X(I)
414 IF K(I)<>999THEN I=I+1:GOTO412
416 KE=I:RETURN
420 I=0
422 K(I)=Y(I)
424 IF K(I)<>999THEN I=I+1:GOTO422
426 KE=I:RETURN
430 I=0
432 K(I)=H(I)
434 IF K(I)<>999THEN I=I+1:GOTO432
436 KE=I:RETURN
